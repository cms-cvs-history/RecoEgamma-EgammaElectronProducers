# $Id: egammaRecHitsToPixelMatchElectrons.cfg,v 1.2 2006/08/24 08:41:37 charlot Exp $
# make electrons using pixel and ECAL rec hits
#
# Created by Shahram Rahatlou from example by Ursula Berthon and Claude Charlot
#
process electrons = {

  ### keep the logging output to a nice level ###
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  ## debugging services
  #service = EnableFloatingPointExceptions {}
  #service = Tracer {}

  #service = MessageLogger {
  #   untracked vstring destinations = {"cout"}
  #   untracked PSet cout = {
  #     untracked  PSet default = { untracked int32 limit = 0 }
  #     #untracked  string threshold = "Debug"
  #   }
  #}

  source = PoolSource {
    untracked vstring fileNames =
    {'rfio:/castor/cern.ch/cms/store/unmerged/RelVal/2006/8/14/RelVal090SingleEPt35/GEN-SIM-DIGI-RECO/0006/2601BD05-812B-DB11-B907-0030485618DE.root'}
    untracked int32 maxEvents = -1
    untracked uint32 debugVerbosity = 1
    untracked bool   debugFlag     = true
  }

  # hybrid clustering in the barrel
  include "RecoEcal/EgammaClusterProducers/data/hybridClusteringSequence.cff"
  include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"

  # island clustering for the endcaps
  include "RecoEcal/EgammaClusterProducers/data/islandClusteringSequence.cff"

  # sequence to make pixel-based electrons
  include "RecoEgamma/EgammaElectronProducers/data/pixelMatchElectronSequence.cff"
  path p = { hybridClusteringSequence, islandClusteringSequence, pixelMatchElectronSequence }

  module out = PoolOutputModule {
    untracked string fileName = "egamma_pixel_matched_electrons.root"
    untracked vstring outputCommands = {
       "drop *",
       "keep edmHepMCProduct_*_*_*",
       "keep recoBasicClusters_*_*_*",
       "keep recoSuperClusters_*_*_*",
       "keep recoPreshowerClusters_*_*_*",
       "keep recoClusterShapes_*_*_*",
       "keep *_electronPixelSeeds_*_*",
       "keep *_pixelMatchElectrons_*_*"
    }
  }
  endpath outpath = { out }
}
