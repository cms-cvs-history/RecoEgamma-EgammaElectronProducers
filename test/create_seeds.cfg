process PROD = {

#service = MessageLogger
#{
#   untracked vstring destinations = {"cout"}
#   untracked PSet cout = 
#   {
#     untracked  PSet default = { int32 limit = 0 }
#     string threshold = "Error"   
#   }
#}
include "FWCore/MessageLogger/data/MessageLogger.cfi"


source = PoolSource 
{ 
#FIXME: private file
          untracked vstring fileNames = {'file:/afs/cern.ch/user/u/uberthon/scratch0/CMSSW_0_7_0_pre3/src/RecoEgamma/ElectronTrackSeedProducers/test/ele30GeV_clusterproducer_superclusterproducer.root'}
          untracked int32 maxEvents = 2
          untracked uint32 debugVerbosity = 10
          untracked bool   debugFlag     = true
}

es_source magfield = XMLIdealGeometryESSource 
{
                  FileInPath GeometryConfiguration ="Geometry/CMSCommonData/data/FieldConfiguration.xml"
                  #the proper root node is set in the xml file
                  string rootNodeName=""
}
        
es_module = VolumeBasedMagneticFieldESProducer 
{
                   double findVolumeTolerance = 0.0
                   untracked bool cacheLastVolume = true
                   untracked bool timerOn = false
}


es_source = XMLIdealGeometryESSource 
{
           FileInPath GeometryConfiguration="Geometry/TrackerSimData/data/trackerSimConfiguration.xml"
           string rootNodeName = ""
}

        es_module = TrackerGeometricDetESModule {}
        es_module = TrackerRecoGeometryESProducer {}
        es_module = TrackerDigiGeometryESModule {}

       
        module out = PoolOutputModule { untracked string fileName = "/tmp/uberthon/pixclusters_seed.root"}

        endpath outpath = { out }
        include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi"
        include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
 
        include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"

        module elseed= ElectronPixelSeedProducer {         double NSigmaInside = 3.} # waiting for fix


        path p = {ThreeThresholdClusterizer,LocalMeasurementConverter,elseed}
}
