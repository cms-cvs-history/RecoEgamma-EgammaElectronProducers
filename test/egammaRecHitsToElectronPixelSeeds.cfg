# $Id: egammaRecHitsToGsfElectronPixelSeeds.cfg,v 1.1 2008/07/11 16:23:37 chamont Exp $
# make electrons using pixel and ECAL rec hits
#
# Created by Shahram Rahatlou from example by Ursula Berthon and Claude Charlot
#
process electrons = {

  include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
  replace GlobalTag.globaltag = "IDEAL_V5::All"
  include "Configuration/StandardSequences/data/MagneticField.cff"

  untracked PSet maxEvents = {untracked int32 input = 10}

  source = PoolSource {
    untracked vstring fileNames = {
    '/store/relval/2008/7/13/RelVal-RelValSingleElectronPt35-1215820444-IDEAL_V5-2nd/RelValSingleElectronPt35/GEN-SIM-DIGI-RAW-HLTDEBUG-RECO/CMSSW_2_1_0_pre8-RelVal-1215820444-IDEAL_V5-2nd-IDEAL_V5-unmerged/0000/14AD4148-F850-DD11-A295-000423D98DD4.root',
    '/store/relval/2008/7/13/RelVal-RelValSingleElectronPt35-1215820444-IDEAL_V5-2nd/RelValSingleElectronPt35/GEN-SIM-DIGI-RAW-HLTDEBUG-RECO/CMSSW_2_1_0_pre8-RelVal-1215820444-IDEAL_V5-2nd-IDEAL_V5-unmerged/0000/F082A8E5-F650-DD11-B6DA-0019DB2F3F9B.root'
    }
    untracked uint32 debugVerbosity = 1
    untracked bool   debugFlag     = true
  }

  # complete clustering sequence
  include "RecoEcal/EgammaClusterProducers/data/ecalClusteringSequence.cff"

  # electron pixel seed finding
  #include "RecoEgamma/EgammaElectronProducers/data/electronPixelSeeds.cff"
  # sequence to make electrons
  include "RecoEgamma/EgammaElectronProducers/data/pixelMatchGsfElectronSequence.cff"

  # needed cfi/cff to built tracker hits
  include "RecoLocalTracker/SiPixelRecHits/data/SiPixelRecHits.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitConverter.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
  include "RecoLocalTracker/SiStripZeroSuppression/data/SiStripZeroSuppression.cfi"
  include "RecoLocalTracker/SiStripClusterizer/data/SiStripClusterizer.cfi"
  include "RecoLocalTracker/SiPixelClusterizer/data/SiPixelClusterizer.cfi"
  include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEESProducers.cff"
  include "RecoTracker/TransientTrackingRecHit/data/TTRHBuilders.cff" 

  path p = { siPixelRecHits, siStripMatchedRecHits,
   newSeedFromPairs,newSeedFromTriplets, newCombinedSeeds, 
#   ecalClusteringSequence, electronPixelSeeds }
   electronPixelSeeds }

  module out = PoolOutputModule {
    untracked string fileName = "electrons.root"
    untracked vstring outputCommands = {
       "drop *",
       "keep *_*_*_electrons"
    }
  }
  endpath outpath = { out }
}
