# $Id: egammaRecHitsToElectronPixelSeeds.cfg,v 1.5 2007/05/17 18:48:55 futyand Exp $
# make electrons using pixel and ECAL rec hits
#
# Created by Shahram Rahatlou from example by Ursula Berthon and Claude Charlot
#
process electrons = {

  ### keep the logging output to a nice level ###
  include "FWCore/MessageLogger/data/MessageLogger.cfi"

  ## debugging services
  #service = EnableFloatingPointExceptions {}
  #service = Tracer {}

#  service = MessageLogger {
#     untracked vstring suppressDebug   = { "*" }
#     untracked vstring debugModules =	{"pixelMatchElectrons"}
#     untracked vstring destinations = {"cout"}
#     untracked PSet cout = {
#      untracked  string threshold = "DEBUG"
#     }
#  }

  source = PoolSource {
    untracked vstring fileNames =
	 {'rfio:/castor/cern.ch/cms/store/RelVal/2007/6/22/RelVal-RelVal150SingleEPt35-1182498841/0000/1EA3B990-A020-DC11-B881-000E0C3EF6CA.root',
	  'rfio:/castor/cern.ch/cms/store/RelVal/2007/6/22/RelVal-RelVal150SingleEPt35-1182498841/0000/223515CC-A020-DC11-B916-000423D6B4F0.root',
	  'rfio:/castor/cern.ch/cms/store/RelVal/2007/6/22/RelVal-RelVal150SingleEPt35-1182498841/0000/E0055C19-A120-DC11-98A7-000E0C3E6E3F.root',
	  'rfio:/castor/cern.ch/cms/store/RelVal/2007/6/22/RelVal-RelVal150SingleEPt35-1182498841/0000/FC27218A-A020-DC11-935E-000423D94678.root'}

    untracked uint32 debugVerbosity = 1
    untracked bool   debugFlag     = true
  }

  untracked PSet maxEvents = {untracked int32 input = 10}

  ############ initialize magnetic field #########################
  include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

  ############### initialize geometry #####################
  include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
  include "Geometry/TrackerGeometryBuilder/data/trackerGeometry.cfi"
  include "Geometry/TrackerNumberingBuilder/data/trackerNumberingGeometry.cfi"
  include "RecoTracker/GeometryESProducer/data/TrackerRecoGeometryESProducer.cfi"

  ### ESProducers needed for tracking ########################
  include "RecoTracker/TransientTrackingRecHit/data/TransientTrackingRecHitBuilder.cfi"
  include "RecoLocalTracker/SiPixelRecHits/data/PixelCPEParmError.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/StripCPEfromTrackAngle.cfi"
  include "RecoLocalTracker/SiStripRecHitConverter/data/SiStripRecHitMatcher.cfi"

  # complete clustering sequence
  include "RecoEcal/EgammaClusterProducers/data/ecalClusteringSequence.cff"

  # electron pixel seed finding
  include "RecoEgamma/EgammaElectronProducers/data/electronPixelSeeds.cff"
  path p = { ecalClusteringSequence, electronPixelSeeds }

  module out = PoolOutputModule {
    untracked string fileName = "./pixelseeds.root"
#    untracked vstring outputCommands = {
#       "drop *",
#       "keep edmHepMCProduct_*_*_*",
#       "keep recoBasicClusters_*_*_*",
#       "keep recoSuperClusters_*_*_*",
#       "keep recoPreshowerClusters_*_*_*",
#       "keep recoClusterShapes_*_*_*",
#       "keep *_electronPixelSeeds_*_*",
#       "keep *_pixelMatchElectrons_*_*"
#    }
  }
  endpath outpath = { out }
}
